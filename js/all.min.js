function button(){$("a.page-scroll").bind("click",function(t){var n=$(this);$("html, body").stop().animate({scrollTop:$(n.attr("href")).offset().top-.15*window.innerHeight},700,"easeInOutExpo"),t.preventDefault()})}$(function(){"use strict";var t=$("#main"),n={debug:!0,prefetch:!0,cacheLength:2,forms:"form",onStart:{duration:400,render:function(t){t.addClass("is-exiting"),$("html, body").scrollTop(),e.restartCSSAnimations()}},onReady:{duration:0,render:function(t,n){t.removeClass("is-exiting"),t.html(n)}},onAfter:function(t,n){button()}},e=t.smoothState(n).data("smoothState");button()}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,n,e,r,a){return jQuery.easing[jQuery.easing.def](t,n,e,r,a)},easeInQuad:function(t,n,e,r,a){return r*(n/=a)*n+e},easeOutQuad:function(t,n,e,r,a){return-r*(n/=a)*(n-2)+e},easeInOutQuad:function(t,n,e,r,a){return(n/=a/2)<1?r/2*n*n+e:-r/2*(--n*(n-2)-1)+e},easeInCubic:function(t,n,e,r,a){return r*(n/=a)*n*n+e},easeOutCubic:function(t,n,e,r,a){return r*((n=n/a-1)*n*n+1)+e},easeInOutCubic:function(t,n,e,r,a){return(n/=a/2)<1?r/2*n*n*n+e:r/2*((n-=2)*n*n+2)+e},easeInQuart:function(t,n,e,r,a){return r*(n/=a)*n*n*n+e},easeOutQuart:function(t,n,e,r,a){return-r*((n=n/a-1)*n*n*n-1)+e},easeInOutQuart:function(t,n,e,r,a){return(n/=a/2)<1?r/2*n*n*n*n+e:-r/2*((n-=2)*n*n*n-2)+e},easeInQuint:function(t,n,e,r,a){return r*(n/=a)*n*n*n*n+e},easeOutQuint:function(t,n,e,r,a){return r*((n=n/a-1)*n*n*n*n+1)+e},easeInOutQuint:function(t,n,e,r,a){return(n/=a/2)<1?r/2*n*n*n*n*n+e:r/2*((n-=2)*n*n*n*n+2)+e},easeInSine:function(t,n,e,r,a){return-r*Math.cos(n/a*(Math.PI/2))+r+e},easeOutSine:function(t,n,e,r,a){return r*Math.sin(n/a*(Math.PI/2))+e},easeInOutSine:function(t,n,e,r,a){return-r/2*(Math.cos(Math.PI*n/a)-1)+e},easeInExpo:function(t,n,e,r,a){return 0==n?e:r*Math.pow(2,10*(n/a-1))+e},easeOutExpo:function(t,n,e,r,a){return n==a?e+r:r*(-Math.pow(2,-10*n/a)+1)+e},easeInOutExpo:function(t,n,e,r,a){return 0==n?e:n==a?e+r:(n/=a/2)<1?r/2*Math.pow(2,10*(n-1))+e:r/2*(-Math.pow(2,-10*--n)+2)+e},easeInCirc:function(t,n,e,r,a){return-r*(Math.sqrt(1-(n/=a)*n)-1)+e},easeOutCirc:function(t,n,e,r,a){return r*Math.sqrt(1-(n=n/a-1)*n)+e},easeInOutCirc:function(t,n,e,r,a){return(n/=a/2)<1?-r/2*(Math.sqrt(1-n*n)-1)+e:r/2*(Math.sqrt(1-(n-=2)*n)+1)+e},easeInElastic:function(t,n,e,r,a){var o=1.70158,i=0,s=r;if(0==n)return e;if(1==(n/=a))return e+r;if(i||(i=.3*a),s<Math.abs(r)){s=r;var o=i/4}else var o=i/(2*Math.PI)*Math.asin(r/s);return-(s*Math.pow(2,10*(n-=1))*Math.sin((n*a-o)*(2*Math.PI)/i))+e},easeOutElastic:function(t,n,e,r,a){var o=1.70158,i=0,s=r;if(0==n)return e;if(1==(n/=a))return e+r;if(i||(i=.3*a),s<Math.abs(r)){s=r;var o=i/4}else var o=i/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*n)*Math.sin((n*a-o)*(2*Math.PI)/i)+r+e},easeInOutElastic:function(t,n,e,r,a){var o=1.70158,i=0,s=r;if(0==n)return e;if(2==(n/=a/2))return e+r;if(i||(i=a*(.3*1.5)),s<Math.abs(r)){s=r;var o=i/4}else var o=i/(2*Math.PI)*Math.asin(r/s);return 1>n?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*a-o)*(2*Math.PI)/i))+e:s*Math.pow(2,-10*(n-=1))*Math.sin((n*a-o)*(2*Math.PI)/i)*.5+r+e},easeInBack:function(t,n,e,r,a,o){return void 0==o&&(o=1.70158),r*(n/=a)*n*((o+1)*n-o)+e},easeOutBack:function(t,n,e,r,a,o){return void 0==o&&(o=1.70158),r*((n=n/a-1)*n*((o+1)*n+o)+1)+e},easeInOutBack:function(t,n,e,r,a,o){return void 0==o&&(o=1.70158),(n/=a/2)<1?r/2*(n*n*(((o*=1.525)+1)*n-o))+e:r/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+e},easeInBounce:function(t,n,e,r,a){return r-jQuery.easing.easeOutBounce(t,a-n,0,r,a)+e},easeOutBounce:function(t,n,e,r,a){return(n/=a)<1/2.75?r*(7.5625*n*n)+e:2/2.75>n?r*(7.5625*(n-=1.5/2.75)*n+.75)+e:2.5/2.75>n?r*(7.5625*(n-=2.25/2.75)*n+.9375)+e:r*(7.5625*(n-=2.625/2.75)*n+.984375)+e},easeInOutBounce:function(t,n,e,r,a){return a/2>n?.5*jQuery.easing.easeInBounce(t,2*n,0,r,a)+e:.5*jQuery.easing.easeOutBounce(t,2*n-a,0,r,a)+.5*r+e}}),!function(t,n,e,r){"use strict";if(!n.history.pushState)return t.fn.smoothState=function(){return this},void(t.fn.smoothState.options={});if(!t.fn.smoothState){var a=t("html, body"),o=n.console,i={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(t){return t},onBefore:function(t,n){},onStart:{duration:0,render:function(t){}},onProgress:{duration:0,render:function(t){}},onReady:{duration:0,render:function(t,n){t.html(n)}},onAfter:function(t,n){}},s={isExternal:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&e[1].length>0&&e[1].toLowerCase()!==n.location.protocol?!0:"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[n.location.protocol]+")?$"),"")!==n.location.host},stripHash:function(t){return t.replace(/#.*/,"")},isHash:function(t,e){e=e||n.location.href;var r=t.indexOf("#")>-1,a=s.stripHash(t)===s.stripHash(e);return r&&a},translate:function(n){var e={dataType:"html",type:"GET"};return n="string"==typeof n?t.extend({},e,{url:n}):t.extend({},e,n)},shouldLoadAnchor:function(t,n,e){var a=t.prop("href");return!(s.isExternal(a)||s.isHash(a)||t.is(n)||t.prop("target")||typeof e!==r&&""!==e&&-1===t.prop("href").search(e))},clearIfOverCapacity:function(t,n){return Object.keys||(Object.keys=function(t){var n,e=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}),Object.keys(t).length>n&&(t={}),t},storePageIn:function(n,e,r,a){var o=t("<html></html>").append(t(r));return n[e]={status:"loaded",title:o.find("title").first().text(),html:o.find("#"+a),doc:r},n},triggerAllAnimationEndEvent:function(n,e){e=" "+e||"";var r=0,a="animationstart webkitAnimationStart oanimationstart MSAnimationStart",o="animationend webkitAnimationEnd oanimationend MSAnimationEnd",i="allanimationend",u=function(e){t(e.delegateTarget).is(n)&&(e.stopPropagation(),r++)},c=function(e){t(e.delegateTarget).is(n)&&(e.stopPropagation(),r--,0===r&&n.trigger(i))};n.on(a,u),n.on(o,c),n.on("allanimationend"+e,function(){r=0,s.redraw(n)})},redraw:function(t){t.height()}},u=function(e){if(null!==e.state){var r=n.location.href,a=t("#"+e.state.id),o=a.data("smoothState");o.href===r||s.isHash(r,o.href)||o.load(r,!1)}},c=function(i,u){var c=t(i),l=c.prop("id"),f=null,h=!1,d={},p=n.location.href,g=function(t){t=t||!1,t&&d.hasOwnProperty(t)?delete d[t]:d={},c.data("smoothState").cache=d},m=function(n,e){e=e||t.noop;var r=s.translate(n);if(d=s.clearIfOverCapacity(d,u.cacheLength),!d.hasOwnProperty(r.url)||"undefined"!=typeof r.data){d[r.url]={status:"fetching"};var a=t.ajax(r);a.done(function(t){s.storePageIn(d,r.url,t,l),c.data("smoothState").cache=d}),a.fail(function(){d[r.url].status="error"}),e&&a.always(e)}},y=function(){if(f){var n=t(f,c);if(n.length){var e=n.offset().top;a.scrollTop(e)}f=null}},v=function(r){var i="#"+l,s=d[r]?t(d[r].html.html()):null;s.length?(e.title=d[r].title,c.data("smoothState").href=r,u.loadingClass&&a.removeClass(u.loadingClass),u.onReady.render(c,s),c.one("ss.onReadyEnd",function(){h=!1,u.onAfter(c,s),u.scroll&&y()}),n.setTimeout(function(){c.trigger("ss.onReadyEnd")},u.onReady.duration)):!s&&u.debug&&o?o.warn("No element with an id of "+i+" in response from "+r+" in "+d):n.location=r},w=function(t,e,r){var i=s.translate(t);"undefined"==typeof e&&(e=!0),"undefined"==typeof r&&(r=!0);var f=!1,h=!1,p={loaded:function(){var t=f?"ss.onProgressEnd":"ss.onStartEnd";h&&f?h&&v(i.url):c.one(t,function(){v(i.url),r||g(i.url)}),e&&n.history.pushState({id:l},d[i.url].title,i.url),h&&!r&&g(i.url)},fetching:function(){f||(f=!0,c.one("ss.onStartEnd",function(){u.loadingClass&&a.addClass(u.loadingClass),u.onProgress.render(c),n.setTimeout(function(){c.trigger("ss.onProgressEnd"),h=!0},u.onProgress.duration)})),n.setTimeout(function(){d.hasOwnProperty(i.url)&&p[d[i.url].status]()},10)},error:function(){u.debug&&o?o.log("There was an error loading: "+i.url):n.location=i.url}};d.hasOwnProperty(i.url)||m(i),u.onStart.render(c),n.setTimeout(function(){u.scroll&&a.scrollTop(0),c.trigger("ss.onStartEnd")},u.onStart.duration),p[d[i.url].status]()},I=function(n){var e,r=t(n.currentTarget);s.shouldLoadAnchor(r,u.blacklist,u.hrefRegex)&&!h&&(n.stopPropagation(),e=s.translate(r.prop("href")),e=u.alterRequest(e),m(e))},S=function(n){var e=t(n.currentTarget);if(!n.metaKey&&!n.ctrlKey&&s.shouldLoadAnchor(e,u.blacklist,u.hrefRegex)&&(n.stopPropagation(),n.preventDefault(),!b())){E();var r=s.translate(e.prop("href"));h=!0,f=e.prop("hash"),r=u.alterRequest(r),u.onBefore(e,c),w(r)}},M=function(n){var e=t(n.currentTarget);if(!e.is(u.blacklist)&&(n.preventDefault(),n.stopPropagation(),!b())){E();var a={url:e.prop("action"),data:e.serialize(),type:e.prop("method")};h=!0,a=u.alterRequest(a),"get"===a.type.toLowerCase()&&(a.url=a.url+"?"+a.data),u.onBefore(e,c),w(a,r,u.allowFormCaching)}},O=0,b=function(){var t=null===u.repeatDelay,n=parseInt(Date.now())>O;return!(t||n)},E=function(){O=parseInt(Date.now())+parseInt(u.repeatDelay)},P=function(t){u.anchors&&(t.on("click",u.anchors,S),u.prefetch&&t.on(u.prefetchOn,u.anchors,I)),u.forms&&t.on("submit",u.forms,M)},C=function(){var t=c.prop("class");c.removeClass(t),s.redraw(c),c.addClass(t)};return u=t.extend({},t.fn.smoothState.options,u),null===n.history.state&&n.history.replaceState({id:l},e.title,p),s.storePageIn(d,p,e.documentElement.outerHTML,l),s.triggerAllAnimationEndEvent(c,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),P(c),{href:p,cache:d,clear:g,load:w,fetch:m,restartCSSAnimations:C}},l=function(n){return this.each(function(){var e=this.tagName.toLowerCase();this.id&&"body"!==e&&"html"!==e&&!t.data(this,"smoothState")?t.data(this,"smoothState",new c(this,n)):!this.id&&o?o.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==e&&"html"!==e||!o||o.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};n.onpopstate=u,t.smoothStateUtility=s,t.fn.smoothState=l,t.fn.smoothState.options=i}}(jQuery,window,document);